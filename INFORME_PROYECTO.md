# üíé Leads Pro AI: Reporte Maestro de Ingenier√≠a
## El Futuro de la Prospecci√≥n Inteligente (v2.5)

Este documento detalla la arquitectura t√©cnica, las innovaciones y el coraz√≥n algor√≠tmico del sistema **Leads Pro AI**. Un ecosistema dise√±ado no solo para encontrar negocios, sino para transformarlos en oportunidades de venta con precisi√≥n t√°ctica.

---

## üå™Ô∏è El Motor Central: Vortex Intelligence Engine (VIE)
El alma del proyecto es el **Vortex Intelligence Engine (VIE)**, un motor de enriquecimiento as√≠ncrono que procesa cada lead de forma profunda.

### Innovaciones v2.5:
1.  **Bimodal Context Retrieval**: El sistema ya no depende solo de la base de datos vectorial. AI Controller ahora fusiona determin√≠sticamente las m√©tricas de **MongoDB** (Scores, Performance, SEO Audit) con el contenido sem√°ntico de **Supabase (Scraping)**, eliminando alucinaciones y asegurando que la IA siempre tenga datos, incluso si el scraping es parcial.
2.  **Tactical Persistence Logic**: Cada √°ngulo de venta, email o estrategia generada por la IA se guarda autom√°ticamente en el CRM del prospecto. Esto crea una memoria corporativa que reduce el consumo de tokens y permite re-abrir leads con su contexto t√°ctico intacto.

---

## üõ†Ô∏è Stack Tecnol√≥gico de Elite
*   **Backend**: Node.js & Express (Arquitectura modular con Inyecci√≥n de Dependencias).
*   **Database**: 
    *   **MongoDB**: Almacenamiento primario y motor de persistencia t√°ctica.
    *   **Redis**: Gesti√≥n de colas BullMQ para procesos ` Ghost-Mode`.
    *   **Supabase (pgvector)**: Memoria sem√°ntica de largo plazo.
*   **Frontend**: React (Vite) + Tailwind CSS.
    *   **Sidebar-Centric Design**: Interfaz optimizada para pantallas densas con tooltips heur√≠sticos de auto-ajuste (anti-clipping).

---

## üìä Inteligencia Financiera y Operativa

### 1. Sistema de Reconciliaci√≥n de Facturaci√≥n por SKU (v2.1)
Hemos abandonado las estimaciones est√°ticas por una contabilidad de grado bancario:
*   **Rastreo por SKU**: Diferenciaci√≥n exacta entre llamadas `Text Search` ($0.032) y `Place Details` ($0.025).
*   **Free-Tier Awareness**: El sistema descuenta autom√°ticamente los umbrales gratuitos reales de Google Cloud (5,000 b√∫squedas y 1,000 detalles mensuales).
*   **Dashboard de Ahorro Real**: Visualizaci√≥n del ROI basada en los USD ahorrados gracias a la cuota gratuita de Google.

### 2. Opportunity Scoring (Heur√≠stica de Cierre)
Algoritmo de 4 capas que califica prospectos de 0 a 100:
*   **Bonus "Modo Anal√≥gico"**: M√°xima puntuaci√≥n para negocios exitosos sin presencia web.
*   **Detecci√≥n de Ineficiencia**: Penalizaci√≥n por stacks obsoletos (Wix/GoDaddy) frente a negocios rentables.
*   **Detecci√≥n Ad-Intent**: Identificaci√≥n autom√°tica de negocios que ya invierten en publicidad.

---

## üõ°Ô∏è Defensa y Resiliencia
*   **Heuristic Tooltip System**: Sistema de explicaciones internas que gu√≠a al usuario sobre los scores de IA, optimizado para no ocultarse nunca en la interfaz.
*   **Nuclear Defense Logic**: Protecci√≥n contra inconsistencias de datos de terceras APIs, garantizando el flujo continuo de la aplicaci√≥n.

---

## üéØ Conclusi√≥n
**Leads Pro AI** ha evolucionado de un simple scraper a una plataforma de **Mercanc√≠a Inteligente**. Con la integraci√≥n de la persistencia t√°ctica y la reconciliaci√≥n financiera real, el sistema no solo entrega leads, sino un control total sobre el negocio del usuario.

**Ingenier√≠a desarrollada por Antigravity.** ‚ú®üíé
